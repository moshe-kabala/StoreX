a = X & b = Y
-------------
-------------

client --> server
-----------------
{
    where: [
        {"key" : "a", "operator" : "=", "type" : "string", "value" : "X"},
        {"relation" : "and" },
        {"key" : "b", "operator" : "=", "type" : "string", "value" : "Y"},        
    ]
}
or
{
    where: [
        [
            {"key" : "a", "operator" : "=", "type" : "string", "value" : "X"},
            {"relation" : "and" },
            {"key" : "b", "operator" : "=", "type" : "string", "value" : "Y"},  
        ]
    ]
}
es query
--------
{
    "query" : {
        "bool" : {
            "must" : [
                { "match" : {"a" : "X"}},
                { "match" : {"b" : "Y"}},
            ]
        }
    }
}


a = X | b = Y
-------------
-------------
client --> server
-----------------
{
    where: [
        {"key" : "a", "operator" : "=", "type" : "string", "value" : "X"},
        {"relation" : "or" },
        {"key" : "b", "operator" : "=", "type" : "string", "value" : "Y"},        
    ]
}
or
{
    where: [
        [
            {"key" : "a", "operator" : "=", "type" : "string", "value" : "X"},
            {"relation" : "or" },
            {"key" : "b", "operator" : "=", "type" : "string", "value" : "Y"},  
        ]
    ]
}
{
    "query" : {
        "bool" : {
            "should" : [
                { "match" : {"a" : "X"}},
                { "match" : {"b" : "Y"}},
            ]
        }
    }
}



(a = X | b = Y) & c = Z
-------------
-------------
client --> server
-----------------
{
    where: [
        [
            {"key" : "a", "operator" : "=", "type" : "string", "value" : "X"},
            {"relation" : "or" },
            {"key" : "b", "operator" : "=", "type" : "string", "value" : "Y"},  
        ],
        {"relation" : "or" },
        {"key" : "c", "operator" : "=", "type" : "string", "value" : "Z"},
    ]
}

{
    "query" : {
        "bool" : {
            "must" : [
                { "bool" : {
                    "should" : [
                        { "match" : {"a" : "X"}},
                        { "match" : {"b" : "Y"}}
                ]
                }},
                { "match" : {"c" : "Z"}},
            ]
        }
    }
}


a = X & b = Y | c = Z 
{
    "query" : {
        "bool" : {
            "should" : [
                "bool" : {
                    "must" : [
                        { "match" : {"a" : "X"}},
                        { "match" : {"b" : "Y"}},
                    ]
                },
                { "match" : {"c" : "Z"}},
            ]
        }
    }
}


a = W & b = X | c = Y & d = Z
{
    "query" : {
        "bool" : {
            "must" : [
                {"match" : {"d" : "z"}},
                { "bool" : {
                    "should" : [
                        {"match" : {"c" : "Y"}},
                        {"bool" : {
                            "must" : [
                                {"match" : {"b" : "X"}},
                                {"match" : {"a" : "W"}}
                            ]
                        }}
                    ]
                }}
            ]
        }
    }
} 




a = W & b = X | c = Y & d = Z
=>

(a = W & b = X) | (c = Y & d = Z)